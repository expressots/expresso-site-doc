"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[8546],{56:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"core/app-container","title":"Container","description":"The AppContainer simplifies module registration.","source":"@site/versioned_docs/version-3.0.0/core/app-container.mdx","sourceDirName":"core","slug":"/core/app-container","permalink":"/docs/core/app-container","draft":false,"unlisted":false,"tags":[],"version":"3.0.0","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Container","description":"The AppContainer simplifies module registration."},"sidebar":"tutorialSidebar","previous":{"title":"App","permalink":"/docs/core/app-provider"},"next":{"title":"Modules","permalink":"/docs/core/module"}}');var s=i(4848),o=i(8453);const r={sidebar_position:2,title:"Container",description:"The AppContainer simplifies module registration."},a="Container",c={},l=[{value:"Setup",id:"setup",level:2},{value:"Creating the container",id:"creating-the-container",level:2},{value:"Modules registration",id:"modules-registration",level:2},{value:"Container options",id:"container-options",level:2},{value:"Support us \u2764\ufe0f",id:"support-us-\ufe0f",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"container",children:"Container"})}),"\n",(0,s.jsx)(n.p,{children:"ExpressoTS uses an IoC Container for dependency injection, making it easy to manage object creation, resolution, and lifecycle."}),"\n",(0,s.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,s.jsx)(n.p,{children:"The application container can be customized to enhance flexibility in dependency management through the following options:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"defaultScope"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Request Scope: Creates a new instance of a dependency for each request."}),"\n",(0,s.jsx)(n.li,{children:"Singleton Scope: Creates a single instance shared across all requests."}),"\n",(0,s.jsx)(n.li,{children:"Transient Scope: Creates a new instance every time the dependency is requested."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"skipBaseClassChecks"}),": When enabled, the container skips base class checks for derived classes, providing more flexibility."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"autoBindInjectable"}),": When enabled, the container automatically injects classes that are not explicitly bound."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Here is the interface options definition:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface ContainerOptions {\n    defaultScope?: interfaces.BindingScope;\n    skipBaseClassChecks?: boolean;\n    autoBindInjectable: false;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"creating-the-container",children:"Creating the container"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'private config: AppContainer = this.configContainer([AppModule], {\n        autoBindInjectable: true,\n        defaultScope: "Request",\n        skipBaseClassChecks: true,\n});\n'})}),"\n",(0,s.jsx)(n.h2,{id:"modules-registration",children:"Modules registration"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"Container"})," facilitates module registration via its ",(0,s.jsx)(n.code,{children:"configContainer([])"})," method, which accepts an array of modules."]}),"\n",(0,s.jsx)(n.p,{children:"Here an example of PaymentModule creation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="payment.module.ts"',children:"export const PaymentModule: ContainerModule = CreateModule([CreatePaymentController]);\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Module registration"',children:"private config: AppContainer = this.configContainer([AppModule, PaymentModule]);\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"When scaffolding a new module using the Opinionated template, the module is automatically registered in the container."})}),"\n",(0,s.jsx)(n.h2,{id:"container-options",children:"Container options"}),"\n",(0,s.jsx)(n.p,{children:"After creating the container, you have the following options available:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("span",{class:"span-table",children:"Container Object"}),": Access the container and manage its bindings."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("span",{class:"span-table",children:"View Container Bindings"}),": Check the injected classes and their\nscopes. The container can be used to view all the bindings that have been registered. This can\nbe useful for debugging purposes or to understand the dependencies that have been registered."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("span",{class:"span-table",children:"View Container Options"}),": Review the container's defined options"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"See below image for a visual representation of the container bindings."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="app.ts"',children:"this.config.viewContainerBindings();\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Container Bindings View",src:i(6353).A+"",width:"877",height:"283"})}),"\n",(0,s.jsx)(n.h2,{id:"support-us-\ufe0f",children:"Support us \u2764\ufe0f"}),"\n",(0,s.jsxs)(n.p,{children:["ExpressoTS is an MIT-licensed open source project. It's an independent project with ongoing development made possible thanks to your support.\nIf you'd like to help, please read our ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/support-us",children:"support guide"})}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},6353:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/container-bindings-ed94fb2f0ccc3a48f4dc71b5bdda1fe6.png"},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var t=i(6540);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);