"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[9070],{9306:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"core/usecase","title":"Use cases","description":"Use cases represents the business logic of the application.","source":"@site/versioned_docs/version-3.0.0/core/usecase.mdx","sourceDirName":"core","slug":"/core/usecase","permalink":"/docs/core/usecase","draft":false,"unlisted":false,"tags":[],"version":"3.0.0","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Use cases","description":"Use cases represents the business logic of the application."},"sidebar":"tutorialSidebar","previous":{"title":"Controllers","permalink":"/docs/core/controller"},"next":{"title":"Providers","permalink":"/docs/core/providers"}}');var t=n(4848),o=n(8453);const r=n.p+"assets/images/usecase-d42f095bed55d26ba2a1a313ed3b7d65.png",a={sidebar_position:5,title:"Use cases",description:"Use cases represents the business logic of the application."},c="Use cases",l={},p=[{value:"Case study",id:"case-study",level:2},{value:"Create use case",id:"create-use-case",level:2},{value:"Explanation",id:"explanation",level:2},{value:"Injection",id:"injection",level:2},{value:"Constructor Injection",id:"constructor-injection",level:2},{value:"Property Injection",id:"property-injection",level:2},{value:"Support us \u2764\ufe0f",id:"support-us-\ufe0f",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"use-cases",children:"Use cases"})}),"\n",(0,t.jsx)(s.p,{children:"From a UML perspective, use cases model interactions between users, systems, and an application, outlining specific scenarios and outcomes.\nIn ExpressoTS, use cases encapsulate business logic, clearly separating it from controllers, which handle\nrouting and request management. This keeps the core functionality and business rules distinct from request handling."}),"\n",(0,t.jsxs)(s.p,{children:["While you can use any design pattern, such as ",(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.a,{href:"/docs/core/controller#patterns",children:"MVC"})}),", the ExpressoTS opinionated template emphasizes\nthe use of a clean architecture. We believe this approach leads to more maintainable and scalable applications."]}),"\n",(0,t.jsx)(s.h2,{id:"case-study",children:"Case study"}),"\n",(0,t.jsx)(s.p,{children:"Here is an example of a use case diagram for a project x:"}),"\n",(0,t.jsx)("div",{style:{textAlign:"center"},children:(0,t.jsx)("img",{src:r,alt:"Project X Use Case"})}),"\n",(0,t.jsx)(s.p,{children:"In the use case diagram above, the actor represents the user interacting with the system. To execute the Login use case, the user must provide specific information known as the payload or, in the case of ExpressoTS, the request DTO. This information is necessary to trigger the use case and for the system to deliver the desired outcome."}),"\n",(0,t.jsx)(s.admonition,{type:"info",children:(0,t.jsx)(s.p,{children:"It is important to note that the use case should exclusively contain the business logic of the application, with no additional or unrelated functionalities.\nThis approach helps to ensure a clear separation of concerns, promoting maintainability, and scalability of the system."})}),"\n",(0,t.jsx)(s.h2,{id:"create-use-case",children:"Create use case"}),"\n",(0,t.jsx)(s.p,{children:"You can create use cases using the ExpressoTS CLI. To create a new use case, run the following command:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"expressots g u use-case-name\n"})}),"\n",(0,t.jsx)(s.p,{children:"Here is a simple implementation of the use case:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",metastring:'title="Login User Use Case"',children:"@provide(LoginUserUseCase)\nexport class LoginUserUseCase {\n    execute(payload: ILoginUserRequestDTO): boolean {\n        const { email, password } = payload;\n\n        if (isAuthenticated(email, password)) {\n            return true;\n        }\n\n        return false;\n    }\n}\n"})}),"\n",(0,t.jsx)(s.h2,{id:"explanation",children:"Explanation"}),"\n",(0,t.jsx)(s.p,{children:"The implementation of use cases in ExpressoTS follows the best practices of software design, where each use case is responsible for implementing a specific business logic. As shown in the example code snippet, a use case typically contains only one function, called execute, which is responsible for executing the business logic defined in that use case. The use case may also include a response DTO that defines the format of the response for that particular use case."}),"\n",(0,t.jsx)(s.p,{children:"Also, it is common to use constructors in use cases to inject dependencies such as providers and repositories. This allows for better code modularity and testability."}),"\n",(0,t.jsx)(s.h2,{id:"injection",children:"Injection"}),"\n",(0,t.jsxs)(s.p,{children:["ExpressoTS's ",(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.a,{href:"/docs/core/di",children:"Dependency Injection"})})," system allows you to inject dependencies like providers, repositories, entities,\nor helper classes directly into use cases via constructors or properties. This enhances modularity and makes the code more testable."]}),"\n",(0,t.jsx)(s.p,{children:"See examples below:"}),"\n",(0,t.jsx)(s.h2,{id:"constructor-injection",children:"Constructor Injection"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",metastring:'title="Example of constructor injection in a use case"',children:"@provide(ExampleUseCase)\nclass ExampleUseCase {\n    constructor(\n     @inject(EmailProvider) private email: EmailProvider,\n     @inject(RepositoryProvider) private repo: RepositoryProvider\n    ) {}\n\n    execute() {\n        this.email.foo();\n        this.repo.bar();\n    }\n}\n"})}),"\n",(0,t.jsx)(s.h2,{id:"property-injection",children:"Property Injection"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",metastring:'title="Example of property injection in a use case"',children:"@provide(ExampleUseCase)\nclass ExampleUseCase {\n    @inject(EmailProvider) private email: EmailProvider;\n    @inject(RepositoryProvider) private repo: RepositoryProvider;\n\n    execute() {\n        this.email.foo();\n        this.repo.bar();\n    }\n}\n"})}),"\n",(0,t.jsx)(s.admonition,{type:"tip",children:(0,t.jsx)(s.p,{children:"It is important to adhere to the principle of single responsibility when implementing use cases. Each use case should only handle a specific business logic, and if you find yourself implementing multiple use cases in a single class, it is time to review your implementation to ensure that each use case has a clear and concise responsibility."})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"support-us-\ufe0f",children:"Support us \u2764\ufe0f"}),"\n",(0,t.jsxs)(s.p,{children:["ExpressoTS is an MIT-licensed open source project. It's an independent project with ongoing development made possible thanks to your support.\nIf you'd like to help, please read our ",(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.a,{href:"/docs/support-us",children:"support guide"})}),"."]})]})}function u(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>a});var i=n(6540);const t={},o=i.createContext(t);function r(e){const s=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);