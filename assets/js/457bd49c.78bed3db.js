"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[2449],{1105:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"prologue/release","title":"Release notes","description":"Release notes for ExpressoTS.","source":"@site/versioned_docs/version-3.0.0/prologue/release.mdx","sourceDirName":"prologue","slug":"/prologue/release","permalink":"/docs/prologue/release","draft":false,"unlisted":false,"tags":[],"version":"3.0.0","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Release notes","description":"Release notes for ExpressoTS."},"sidebar":"tutorialSidebar","previous":{"title":"Intro","permalink":"/docs/prologue/intro"},"next":{"title":"Upgrade guide","permalink":"/docs/prologue/upgrade_guide"}}');var s=r(4848),t=r(8453);r(1470),r(9365);const o={sidebar_position:1,title:"Release notes",description:"Release notes for ExpressoTS."},a="Release notes",l={},d=[{value:"Versioning scheme",id:"versioning-scheme",level:2},{value:"Support policy",id:"support-policy",level:2},{value:"ExpressoTS 3.0 \ud83c\udf89",id:"expressots-30-",level:2},{value:"Nodejs version",id:"nodejs-version",level:3},{value:"Dependencies",id:"dependencies",level:3},{value:"Testing",id:"testing",level:3},{value:"Templates",id:"templates",level:3},{value:"Sreamlined Application Structure",id:"sreamlined-application-structure",level:3},{value:"The application main entry point",id:"the-application-main-entry-point",level:4},{value:"The application configuration file",id:"the-application-configuration-file",level:4},{value:"Render engine support",id:"render-engine-support",level:4},{value:"Plugin system",id:"plugin-system",level:4},{value:"CLI improvements",id:"cli-improvements",level:4},{value:"Documentation",id:"documentation",level:4}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"release-notes",children:"Release notes"})}),"\n",(0,s.jsxs)(n.p,{children:["For full details on the changes for each release, please refer to the ",(0,s.jsx)(n.a,{href:"/docs/prologue/upgrade_guide",children:"upgrade guide"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"versioning-scheme",children:"Versioning scheme"}),"\n",(0,s.jsxs)(n.p,{children:["ExpressoTS follows the ",(0,s.jsx)(n.a,{href:"https://semver.org/",children:"Semantic Versioning"})," scheme. Major versions are reserved for breaking changes, minor versions for new features, and patch versions for bug fixes.\nMajor versions are released yearly, we strive to release on Q4 or Q1 of each year. Minor and patch versions are released as needed, usually on by-weekly or monthly basis."]}),"\n",(0,s.jsx)(n.p,{children:"The releases from now on will be done in bundles. This is to make it easier to keep track of the changes and to avoid having to release a new version for every small change.\nThe packages part of the bundle will be released at the same time, and the version number will be the same for all of them. This is to avoid any compatibility issues between the packages."}),"\n",(0,s.jsx)(n.p,{children:"The packages part of the bundle will be:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"@expressots/core"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"@expressots/adapter-express"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"@expressots/shared"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"@expressots/templates"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"@expressots/cli"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"support-policy",children:"Support policy"}),"\n",(0,s.jsxs)(n.p,{children:["For all ExpressoTS releases, bug fixes and security patches will be provided for 18 months after the release date. After that period, the release will be considered end-of-life and no further support will be provided except\nfor ",(0,s.jsx)(n.code,{children:"Enterprise customers"})," or ",(0,s.jsx)(n.code,{children:"individuals"})," with ",(0,s.jsx)(n.code,{children:"valid support contracts"}),"."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Version"}),(0,s.jsx)(n.th,{children:"Node.js"}),(0,s.jsx)(n.th,{children:"Release"}),(0,s.jsx)(n.th,{children:"Bug & Security fixed until"}),(0,s.jsx)(n.th,{children:"Status"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"3.0.0"}),(0,s.jsx)(n.td,{children:">= 20.18.0"}),(0,s.jsx)(n.td,{children:"December 4th, 2024"}),(0,s.jsx)(n.td,{children:"June 4th, 2026"}),(0,s.jsx)(n.td,{children:"\ud83d\udfe2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"2.0.0"}),(0,s.jsx)(n.td,{children:">= 18.10.0"}),(0,s.jsx)(n.td,{children:"September 14th, 2023"}),(0,s.jsx)(n.td,{children:"March 14th, 2025"}),(0,s.jsx)(n.td,{children:"\ud83d\udfe1"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udfe2 Active support \ud83d\udfe1 Bug & Security fixes only \ud83d\udd34 End-of-life"}),"\n",(0,s.jsx)(n.h2,{id:"expressots-30-",children:"ExpressoTS 3.0 \ud83c\udf89"}),"\n",(0,s.jsx)(n.p,{children:"ExpressoTS v3.0.0 is a major milestone in our journey toward providing a faster, more scalable, and developer-friendly Node.js framework.\nWith this release, we've implemented significant features, optimizations, and architectural changes to enhance your development experience."}),"\n",(0,s.jsx)(n.p,{children:"Here's everything you need to know about what's new in ExpressoTS v3.0.0!"}),"\n",(0,s.jsx)(n.h3,{id:"nodejs-version",children:"Nodejs version"}),"\n",(0,s.jsx)(n.p,{children:"ExpressoTS v3.0.0 requires Node.js version 20.18.0 or higher."}),"\n",(0,s.jsx)(n.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsx)(n.p,{children:"We have made significant reductions in the number of dependencies required to run ExpressoTS. This will help you to have a more lightweight and faster application."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["IOC: We forked and customized the ",(0,s.jsx)(n.code,{children:"inversify"})," library to make it more lightweight and faster for our use case."]}),"\n",(0,s.jsx)(n.li,{children:"Environment: We embedded into the framework our own environment library."}),"\n",(0,s.jsxs)(n.li,{children:["Reflect-metadata: We removed the dependency on the ",(0,s.jsx)(n.code,{children:"reflect-metadata"})," library in the client application and embedded it into the framework."]}),"\n",(0,s.jsx)(n.li,{children:"Introduced @expressots/shared, consolidating common utilities and interfaces for modular development."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Here are the current dependencies:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"@expressots/core"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"@expressots/adapter-express"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"@expressots/shared"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"@expressots/cli"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Migrated from Vitest to Jest, providing more robust testing capabilities."}),"\n",(0,s.jsx)(n.li,{children:"Added extensive unit tests for core, middleware, providers, repositories, CLI, plugins, and adapters."}),"\n",(0,s.jsxs)(n.li,{children:["Current coverage:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Core: 92%"}),"\n",(0,s.jsx)(n.li,{children:"Adapter-Express: 81%"}),"\n",(0,s.jsx)(n.li,{children:"Shared: 84%"}),"\n",(0,s.jsx)(n.li,{children:"Incorporated EarlyAI for automated test generation, significantly reducing development effort on the core libraries of ExpressoTS."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"templates",children:"Templates"}),"\n",(0,s.jsxs)(n.p,{children:["Added a new template for creating a new ExpressoTS project called ",(0,s.jsx)(n.code,{children:"Micro API"}),".\nThis template is designed for quick prototyping and development of small services to enhance Node.js applications scalibity constraints.\nDevelopers can now create multiple services and deploy them independently to decouple the application and reduce responsibility on a single service."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'import { createMicroAPI } from "@expressots/adapter-express";\nimport { Request, Response } from "express";\n\nconst microAPI = createMicroAPI();\n\nconst app = microAPI.build();\n\napp.Route.get("/", (req: Request, res: Response) => {\n    res.send("Hello from ExpressoTS Micro API!");\n});\n\napp.listen(3000);\n'})}),"\n",(0,s.jsx)(n.p,{children:"Although Micro API its simple and lightweight, it can leverage the full power of ExpressoTS, including access to the dependency injection system,\nmiddleware system, and plugins."}),"\n",(0,s.jsx)(n.h3,{id:"sreamlined-application-structure",children:"Sreamlined Application Structure"}),"\n",(0,s.jsx)(n.p,{children:"We introduced a new application structure that is more streamlined and easier to understand. The new application structure is itended to provide a leaner, more modern\napproach to building Node.js applications with ExpressoTS."}),"\n",(0,s.jsx)(n.h4,{id:"the-application-main-entry-point",children:"The application main entry point"}),"\n",(0,s.jsxs)(n.p,{children:["You no longer need to pass the container manually, and configuration is now centralized in the ",(0,s.jsx)(n.code,{children:"app.ts"})," file.\nThe main entry point of the application only exists to bootstrap the application and start the server.\nAll applicaiton configuration, lifecycle hooks, and middleware are now centralized in the ",(0,s.jsx)(n.code,{children:"app.ts"})," file."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'import { AppFactory } from "@expressots/core";\nimport { App } from "app";\n\nAppFactory.create(App).then((app) => app.listen(3000));\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"From the main entry point, you can only access the underlying http server instance for testing purposes."}),"\n",(0,s.jsxs)(n.li,{children:["Also, you can pass ",(0,s.jsx)(n.code,{children:"0"})," as the port number to let the OS choose a random port for you."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"the-application-configuration-file",children:"The application configuration file"}),"\n",(0,s.jsxs)(n.p,{children:["The application configuration file is now centralized in the ",(0,s.jsx)(n.code,{children:"app.ts"})," file."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'import { AppExpress } from "@expressots/adapter-express";\nimport { AppContainer, Env } from "@expressots/core";\nimport { AppModule } from "@useCases/app/app.module";\n\nexport class App extends AppExpress {\n    private config: AppContainer = this.configContainer([AppModule]);\n\n    async globalConfiguration(): Promise<void> {\n        this.setGlobalRoutePrefix("/v1");\n\n        this.initEnvironment("development", {\n            env: {\n                development: ".env.development",\n                production: ".env.production",\n            },\n        });\n    }\n\n    async configureServices(): Promise<void> {\n        this.Provider.register(Env);\n\n        this.Middleware.addBodyParser();\n        this.Middleware.setErrorHandler({ showStackTrace: true });\n    }\n\n    async postServerInitialization(): Promise<void> {\n        if (await this.isDevelopment()) {\n            this.Provider.get(Env).checkFile(".env.development");\n        }\n    }\n\n    async serverShutdown(): Promise<void> {}\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The life cycle hooks are now centralized in the ",(0,s.jsx)(n.code,{children:"app.ts"})," file and also make use of node event emitters in transition to a more event-driven architecture."]}),"\n",(0,s.jsxs)(n.p,{children:["The general capabilities in the ",(0,s.jsx)(n.code,{children:"app.ts"})," file are:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"globalConfiguration"})," method is used to set global configurations for the application such as the route prefix and environment configuration."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"configureServices"})," method is used to register services, middleware, and providers."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"postServerInitialization"})," method is used to run any post-server initialization tasks."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"serverShutdown"})," method is used to run any cleanup tasks before the server shuts down."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Container: The container is now configured in the ",(0,s.jsx)(n.code,{children:"configContainer"})," method, which takes an array of modules to load. Container was streamlined to provide a more straightforward way to load modules and services. Also,\nall extra and unnecesaary classes were removed from the container init load to make it more lightweight and faster."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Environment: The system has environment variable support, and you can set the environment file for each environment. The ",(0,s.jsx)(n.code,{children:"Env"})," provider is used to access environment variables and validate the environment file."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Provider registration is now centralized in the ",(0,s.jsx)(n.code,{children:"configureServices"})," method for the plugin system to work correctly and to avoid circular dependencies."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Middleware registration available with all the Express middleware available in the ",(0,s.jsx)(n.code,{children:"Middleware"})," class. You can also add your own middleware."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The error handler middleware is now centralized in the ",(0,s.jsx)(n.code,{children:"configureServices"})," method."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"isDevelopment"})," method is used to check if the application is running in development mode."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"checkFile"})," method is used to check if the environment file exists and validate variables in the environment file."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"setGlobalRoutePrefix"})," method is used to set the global route prefix for the application."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Middleware pipeline can be viewed for better understanding of the middleware order."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"render-engine-support",children:"Render engine support"}),"\n",(0,s.jsx)(n.p,{children:"We added support for rendering engines in ExpressoTS. You can now use any rendering engine with ExpressoTS, such as EJS, Handlebars, or Pug.\nThey can be used to render views in your application and are provided as a plugin."}),"\n",(0,s.jsx)(n.p,{children:"As soon as you try to use a rendering engine, ExpressoTS will automatically detect it and ask you to install the required dependencies."}),"\n",(0,s.jsxs)(n.p,{children:["For more information, please refer to the ",(0,s.jsx)(n.a,{href:"/docs/features/render",children:"render engine documentation"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"plugin-system",children:"Plugin system"}),"\n",(0,s.jsxs)(n.p,{children:["We introduced a new plugin system that allows you to extend the functionality of ExpressoTS by adding custom plugins.\nPlugins can be used to add new features, middleware, services, or providers to the application. For more information,\nplease refer to the ",(0,s.jsx)(n.a,{href:"/docs/core/providers#create-external-provider",children:"plugin system documentation"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"cli-improvements",children:"CLI improvements"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Added support for creating a new ExpressoTS project with the ",(0,s.jsx)(n.code,{children:"create"})," command."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Non opinionated scaffolds can be used in the Micro API template."})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All commands were refactored and tailored for each individual package manager (npm, yarn and pnpm) to provide a better experience and performance."}),"\n",(0,s.jsxs)(n.li,{children:["ExpressoTS CLI now supports calls from ",(0,s.jsx)(n.code,{children:"expressots"})," and ",(0,s.jsx)(n.code,{children:"ex"})," aliases for better usability."]}),"\n",(0,s.jsx)(n.li,{children:"Added command to add and remove plugins from the application. This allows you to also add and remove any npm package with a better experience."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ex add express\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Scripts in your ",(0,s.jsx)(n.code,{children:"package.json"})," file are now available through ",(0,s.jsx)(n.code,{children:"ex scripts"})," command for a more interactive experience."]}),"\n",(0,s.jsxs)(n.li,{children:["Use of ",(0,s.jsx)(n.code,{children:"tsx"})," library for better performance and user experience on running the application as ",(0,s.jsx)(n.code,{children:"dev"})," mode."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tsc"})," is used to compile the application in production mode for better performance and user experience."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"documentation",children:"Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Added a new section called Prologue, which contains the release notes and upgrade guide."}),"\n",(0,s.jsx)(n.li,{children:"Added version badges to the documentation to make it easier to identify the version of the documentation."}),"\n",(0,s.jsx)(n.li,{children:"Simplified the documentation structure to make it easier to navigate and find the information you need."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},9365:(e,n,r)=>{r.d(n,{A:()=>o});r(6540);var i=r(4164);const s={tabItem:"tabItem_Ymn6"};var t=r(4848);function o(e){let{children:n,hidden:r,className:o}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,i.A)(s.tabItem,o),hidden:r,children:n})}},1470:(e,n,r)=>{r.d(n,{A:()=>w});var i=r(6540),s=r(4164),t=r(3104),o=r(6347),a=r(205),l=r(7485),d=r(1682),c=r(679);function h(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:r}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:r,attributes:i,default:s}}=e;return{value:n,label:r,attributes:i,default:s}}))}(r);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function u(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:r}=e;const s=(0,o.W6)(),t=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,l.aZ)(t),(0,i.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})}),[t,s])]}function x(e){const{defaultValue:n,queryString:r=!1,groupId:s}=e,t=p(e),[o,l]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=r.find((e=>e.default))??r[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:t}))),[d,h]=m({queryString:r,groupId:s}),[x,f]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,t]=(0,c.Dv)(r);return[s,(0,i.useCallback)((e=>{r&&t.set(e)}),[r,t])]}({groupId:s}),v=(()=>{const e=d??x;return u({value:e,tabValues:t})?e:null})();(0,a.A)((()=>{v&&l(v)}),[v]);return{selectedValue:o,selectValue:(0,i.useCallback)((e=>{if(!u({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),f(e)}),[h,f,t]),tabValues:t}}var f=r(2303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=r(4848);function g(e){let{className:n,block:r,selectedValue:i,selectValue:o,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:d}=(0,t.a_)(),c=e=>{const n=e.currentTarget,r=l.indexOf(n),s=a[r].value;s!==i&&(d(n),o(s))},h=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":r},n),children:a.map((e=>{let{value:n,label:r,attributes:t}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>l.push(e),onKeyDown:h,onClick:c,...t,className:(0,s.A)("tabs__item",v.tabItem,t?.className,{"tabs__item--active":i===n}),children:r??n},n)}))})}function b(e){let{lazy:n,children:r,selectedValue:t}=e;const o=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===t));return e?(0,i.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function y(e){const n=x(e);return(0,j.jsxs)("div",{className:(0,s.A)("tabs-container",v.tabList),children:[(0,j.jsx)(g,{...n,...e}),(0,j.jsx)(b,{...n,...e})]})}function w(e){const n=(0,f.A)();return(0,j.jsx)(y,{...e,children:h(e.children)},String(n))}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var i=r(6540);const s={},t=i.createContext(s);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);